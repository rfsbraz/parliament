# Example Terraform Variables for Parliament Transparency Application
# Copy this file to terraform.tfvars and set your values

# ============================================================================
# BASIC INFRASTRUCTURE CONFIGURATION
# ============================================================================

# Basic Configuration
environment = "dev"  # or "prod"
aws_region  = "eu-west-1"

# Domain Configuration (optional)
domain_name = "fiscaliza.pt"

# Cloudflare Configuration (optional - set these if using Cloudflare)
cloudflare_zone_id    = ""  # Your Cloudflare zone ID
cloudflare_api_token  = ""  # Your Cloudflare API token (set via environment variable)

# Docker Image
backend_image = ""  # Your ECR image URI for the Lambda function

# Alert Configuration (optional)
alert_email = "alerts@yourdomain.com"

# Cost Optimization
cost_optimization_mode = true

# ============================================================================
# COMPUTE AND DATABASE CONFIGURATION
# ============================================================================

# Lambda Configuration
lambda_memory_size = 512
lambda_timeout = 30
lambda_reserved_concurrency = 10

# Database Configuration
db_allocated_storage = 20
db_backup_retention_period = 1
db_multi_az = false

# Monitoring
enable_basic_monitoring = true
enable_detailed_monitoring = false

# CloudFront (for static assets)
enable_cloudfront = true

# Caching
enable_in_memory_cache = true
cache_ttl_seconds = 300
enable_connection_pooling = true
max_connections = 5

# ============================================================================
# COMPREHENSIVE TAGGING CONFIGURATION FOR COST ANALYSIS AND RESOURCE MANAGEMENT
# ============================================================================

# Project and Application Identity Tags
project_name     = "Parliament"        # Main project identifier
application_name = "Fiscaliza"         # Application name for resource grouping

# Cost Center and Business Information Tags
cost_center    = "Parliament-Analytics"           # For billing and cost allocation
business_unit  = "Government-Transparency"        # Business unit for cost tracking
owner_team     = "DevOps"                        # Team responsible for resources
owner_email    = "devops-team@fiscaliza.pt"      # Contact for resource ownership

# Resource Management Tags
backup_schedule         = "daily"     # Options: daily, weekly, monthly, none
data_classification     = "public"    # Options: public, internal, confidential, restricted
compliance_requirements = "gdpr"      # Options: gdpr, none, custom
auto_shutdown          = false        # Enable auto-shutdown for cost optimization (dev: true, prod: false)
monitoring_level       = "basic"      # Options: basic, standard, enhanced

# Additional Custom Tags (up to 10 key-value pairs)
# These tags provide additional context for cost analysis and resource management
additional_tags = {
  # Business Context
  Purpose        = "parliament-data-analysis"    # Primary business purpose
  Stakeholder    = "parliament-committee"        # Primary stakeholder
  
  # Technical Context
  Architecture   = "serverless"                  # Architecture pattern
  DatabaseEngine = "postgresql"                  # Database technology
  Framework      = "flask-lambda"                # Application framework
  
  # Operational Context
  SLA            = "99.9%"                      # Service level agreement
  IncidentContact = "alerts@fiscaliza.pt"       # Emergency contact
  MaintenanceWindow = "sunday-04:00-06:00"      # Maintenance window
  
  # Financial Context
  BudgetCode     = "GOV-TRANS-2025"             # Budget allocation code
  CostGroup      = "transparency-tools"          # Cost grouping category
}

# ============================================================================
# TAGGING STRATEGY DOCUMENTATION
# ============================================================================

# How to use these tags for cost analysis:
#
# 1. AWS Cost Explorer Filters:
#    - Filter by "cost_center" to see costs by department
#    - Filter by "environment" to separate dev/prod costs
#    - Filter by "project_name" to see project-specific costs
#    - Filter by "application_name" for application-level analysis
#
# 2. Billing Reports:
#    - Group by "business_unit" for organizational reporting
#    - Group by "owner_team" for team-based cost allocation
#    - Group by "cost_center" for financial reporting
#
# 3. Resource Management:
#    - Use "auto_shutdown" tag to identify resources for automated cost savings
#    - Use "backup_schedule" to optimize backup costs
#    - Use "monitoring_level" to adjust monitoring costs
#
# 4. Compliance and Governance:
#    - Use "data_classification" for security and compliance reporting
#    - Use "compliance_requirements" for regulatory alignment
#    - Use "owner_email" for accountability and contact tracing
#
# 5. Cost Optimization:
#    - Resources tagged with cost_optimization_mode=true follow cost-optimized patterns
#    - Use "monitoring_level" to balance observability vs cost
#    - Use environment-specific configurations for appropriate resource sizing

# Example cost analysis queries:
# - Total cost by project: Filter by Project tag
# - Development vs Production costs: Filter by Environment tag  
# - Team cost allocation: Filter by OwnerTeam tag
# - Compliance cost tracking: Filter by ComplianceRequirements tag
# - Auto-shutdown eligible resources: Filter by AutoShutdown=enabled tag